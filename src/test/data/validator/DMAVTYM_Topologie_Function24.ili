INTERLIS 2.4;

MODEL DMAVTYM_Topologie_Function24
    AT "mailto:noreply@localhost" VERSION "2024-06-17" =
    IMPORTS DMAVTYM_Topologie_V1_1;
    IMPORTS DMAVTYM_Topologie_V1_0;
    IMPORTS ObjectPool;

    DOMAIN
        Coord2 = COORD
            0.000 .. 2870000.000,
            0.000 .. 1310000.000;
        Surface = SURFACE WITH (STRAIGHTS, ARCS) VERTEX Coord2 WITHOUT OVERLAPS > 0.002;
        Line = POLYLINE WITH (STRAIGHTS, ARCS) VERTEX Coord2;
        Multiline = MULTIPOLYLINE WITH (STRAIGHTS, ARCS) VERTEX Coord2;

    TOPIC Topic =
        CLASS ClassA =
            surface: Surface;
            lines: Multiline;

            MANDATORY CONSTRAINT linesCoverSurface_V1_0:
                DMAVTYM_Topologie_V1_0.covers(THIS, >>surface, THIS, >>lines);
            MANDATORY CONSTRAINT linesCoverSurface_V1_1:
                DMAVTYM_Topologie_V1_1.covers(THIS, >>surface, THIS, >>lines);
        END ClassA;

        CLASS SurfaceClass =
            surface: Surface;
        END SurfaceClass;

        CLASS LineClass =
            line: Line;

            MANDATORY CONSTRAINT lineCoversSurface_V1_1:
                DMAVTYM_Topologie_V1_1.coversWithTolerance(ObjectPool.allObjects(>SurfaceClass), >>SurfaceClass->surface, THIS, >>line, 0.002);
        END LineClass;

        CLASS CompareLinesClass =
            line1: Line;
            line2: Line;

            MANDATORY CONSTRAINT lineCoversLine_V1_1:
                DMAVTYM_Topologie_V1_1.coversWithTolerance(THIS, >>line1, THIS, >>line2, 0.002);
        END CompareLinesClass;
    END Topic;
END DMAVTYM_Topologie_Function24.
